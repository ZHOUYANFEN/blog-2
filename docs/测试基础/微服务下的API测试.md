# 微服务下的 API 测试

## 微服务架构

### 单体结构

**概述**： 将所有的业务场景的表示层、业务逻辑层和数据访问层放在同一个工程中，最终经过编译、打包，并部署在服务器上 

**优点**： 发布简单、方便调试、架构复杂性低等 

**应用场景**：传统企业级应用软件

 **单体架构存在的问题** :

+  **灵活性差** 

   无论是多小的修改，也要打包发布整个应用，每次编译打包都要花费很长时间 

+  **可扩展性差** 

   高并发场景下，无法以模块为单位灵活扩展容量，不利于应用的横向扩展 

+  **稳定性差** 

   缺乏容错机制， 应用中任何一个模块有问题时，都可能会造成应用整体的不可用 

+  **可维护性差** 

   随着业务复杂性的提升，代码的复杂性也直线上升，业务规模比较庞大时，整体项目的可维护性会大打折扣 

### 微服务架构

**产生原因**：随着互联网产品的普及，应用所承载的流量越来越庞大，单体架构的问题被逐渐暴露并不断放大 

**概述**：大型复杂软件系统不再由一个单体组成，而是由一系列相互独立的微服务组成 ， 开发和部署都没有依赖 

**特点**：

- 每个服务运行在其独立的进程中，开发采用的技术栈也是独立的
- 服务间采用轻量级通信机制进行沟通，通常是基于 HTTP 协议的 RESTful API
- 每个服务都围绕着具体的业务进行构建，并且能够被独立开发、独立部署、独立发布
- 对运维提出了非常高的要求，促进了 CI/CD 的发展与落地

**存在的测试挑战**：

 一个应用是由很多相互独立的微服务组成，每个微服务都会对外暴露接口， 一个微服务通常还会去调用其他微服务 ，测试挑战主要来自两方面：

+ 过于庞大的测试用例数量

  

+ 微服务之间的耦合关系

