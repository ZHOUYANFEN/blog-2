# 函数

**作用：**

+  函数的使用可以重用代码， 提高代码的重复利用率 
+  函数能封装内部实现，保护内部数据，实现对用户的透明 
+  函数使得程序模块化 

## 参数的传递

**存在的情况：**

+   Python 的函数参数传递的是实际对象的内存地址 
+  Python 的数据类型分可变数据类型和不可变数据类型 

不可变类型：

```
a = 1
def func(a):
    print("在函数内部修改之前,变量a的内存地址为： %s" % id(a))
    a = 2
    print("在函数内部修改之后,变量a的内存地址为： %s" % id(a))
    print("函数内部的a为： %s" % a)


print("调用函数之前,变量a的内存地址为： %s" % id(a))
func(a)
print("函数外部的a为：%s" % a)


结果：
调用函数之前,变量a的内存地址为： 1401140288
在函数内部修改之前,变量a的内存地址为： 1401140288
在函数内部修改之后,变量a的内存地址为： 1401140320
函数内部的a为： 2
函数外部的a为：1

```

可变类型：

```
a = [1, 2, 3]

def func(b):
    print("在函数内部修改之前,变量b的内存地址为： %s" % id(b))
    b.append(4)
    print("在函数内部修改之后,变量b的内存地址为： %s" % id(b))
    print("函数内部的b为： %s" % b)


print("调用函数之前,变量a的内存地址为： %s" % id(a))
func(a)
print("函数外部的a为：%s" % a)


结果：
调用函数之前,变量a的内存地址为： 34875720
在函数内部修改之前,变量b的内存地址为： 34875720
在函数内部修改之后,变量b的内存地址为： 34875720
函数内部的b为： [1, 2, 3, 4]
函数外部的a为：[1, 2, 3, 4]
```

**存在差异原因：**

+  “=” 赋值语句，会创建新的变量 
+  b.append(4)  不会创建新的变量

## 参数类型

### 位置参数

**特点：**

 + 必须在调用函数时明确提供的参数
 + 位置参数必须按先后顺序，一一对应 

```
def add(a, b, c):
    return a+b+c

result = add("haha", 2,  3)
```

### 默认参数

**特点：**

+ 参数有默认值
+ 可以使用默认值，也可以自定义

```
def power(x, n = 2):
    return x**n

ret1 = power(10)   # 使用默认的参数值n=2
ret2 = power(10, 4)  # 将4传给n，实际计算10**4的值
```

**默认参数的注意点：**

+ 必须在位置参数的后面

  ```
  def power(x,n = 2):
      return x**n
  ```

  **使用的一些方式：**

  + 有多个默认参数时，通常将常用的放在前面，变化较少的放在后面

    ```
    def student(name, sex, age, classroom="101", tel="88880000", address="..."):
        pass
    ```

  + 函数调用时，尽量给实际参数提供默认参数名

    ```
    def student(name, sex, age, classroom="101", tel="88880000", address="..."):
        pass
    
    student('jack','male',17)       # 其它全部使用默认值
    student('tom','male',18,'102','666666','beijing')    # 全部指定默认参数的值
    student('mary','female',18,'102',tel='666666')  # 挑着来
    student('mary','female',18,tel='666666','beijing')   #  这是错误的参数传递方式
    student("mary","female",18,tel="666666",address="beijing")
    ```

+ 使用参数名传递参数

  位置参数指定参数名时，调用时参数可不安顺序

  ```
  def student(name, age, classroom, tel, address="..."):
      pass
  
  student(classroom=101, name="Jack", tel=66666666, age=20)
  ```

  **注意：**使用上面的方式，参数名和位置参数名必须一致

+ 默认参数尽量指向不变的对象

  举个栗子：

  ```
  def func(a=[]):
      a.append("A")
      return a
  
  print(func())
  print(func())
  print(func())
  ```

  你以为的答案：

  ```
  ['A']
  ['A']
  ['A']
  ```

  实际上的答案：

  ```
  ['A']
  ['A', 'A']
  ['A', 'A', 'A']
  ```

  **原因：**

  + a 指向列表的地址，这个列表不会变
  + 每次调用时向 a 中添加数据

## 动态参数

种类：

+ *args
+ **kwargs

 **注意：动态参数，必须放在所有的位置参数和默认参数后面** 

